(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{597:function(e,n,t){"use strict";var a,b,v,h,m,r,g,y,x,i;t.r(n),a=t(0),b=t.n(a),v=t(4),h=t(1),m=t(247),r=t(2),g=function(e){return'\n        <div class="fr-expr">\n            <div class="fr-modal-body">\n                <div class="expr-body">\n                    <textarea>'+e+'</textarea>\n                </div>\n                <div class="expr-menu"></div>\n            </div>\n\n            <div class="fr-modal-footer content-right">\n                <button type="button" disabled="disabled" class="fr-btn fr-btn-primary add-to-expr">\n                    '+r.a.tr("Style Add")+'\n                </button>\n                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                <button type="button" class="fr-btn fr-btn-primary edit-expr">\n                    '+r.a.tr("Buttons Ok")+"\n                </button>\n            </div>\n        </div>\n    "},y=t(599),t.d(n,"expression",function(){return i}),x={},i={edit:function(t,a,e){function r(e){var n=void 0;return(n=Array.isArray(t)?v.a.get("brackets"):"string"!=typeof t?t.prop("Brackets"):v.a.get("brackets"))[0]+e+n[2]}function n(e){e.preventDefault(),e.stopPropagation()}var i,o,s,l,c,d,p,u,f;return void 0===t?null:(i=new m.a("ExpressionEditor"),o="",Array.isArray(t)||(o="string"==typeof t?t:void 0===t.prop(a)?"":t.prop(a)),s=b()(g(o)),l=void 0,l=!!e&&this.getMenu({track:!1}),d=b()(".expr-menu",s),p=b()("textarea",s),u=b()(".add-to-expr",s),f={$popup:i,$textarea:p,onClick:function(){var n=p.val();Array.isArray(t)?(t.forEach(function(e){e&&e.prop(a)!==n&&(e.prop(a,n,!0),e.render())}),h.a.trigger("update-properties-panel",t)):t&&t.prop(a)!==n&&(t.prop(a,n,!0),h.a.trigger("update-properties-panel",t),t.render()),i.close()}},l?(c=b()(".rt-content[data-component]",l),d.html(l),c.attr("draggable",!0),c.css("cursor","move"),c.on("dragstart",function(e){var n=b()(e.target),t=n.parent()[0].element;e.originalEvent.dataTransfer.setData("text",t.view||t.getView(n))}),p.on("dragover",n),p.on("dragenter",n),p.on("drop",function(e){var n=b()(e.target),t=e.originalEvent.dataTransfer.getData("text");e.preventDefault(),n.val(n.val()+r(t))}),l.on("click",".rt-content",function(){b()(this).is(".selected[data-component]")?u.removeAttr("disabled"):u.attr("disabled",!0)}),u.on("click",function(){var e=b()(".selected",l),n=e.parent()[0].element,t=n.view||n.getView(e);t&&p.val(p.val()+r(t))})):(p.parent().css("width","100%"),u.remove(),d.remove()),s.on("click",".edit-expr",function(e){return f.onClick.apply(this,[e,p.val(),i])}),b()(".fr-modal-content",i).html(s),f)},getMenu:function(e){return this._getMenu(e||{})},_getMenu:function(e){var n,t=e.track,a=e.openConnections,r=e.openSystemVariables,i=e.openTotals,o=e.openParameters,s=e.openFunctions,l=!1===t?{}:x,c=window.DSG.currentReport,d=c.connections,p=c.dataSources,u=c.systemVariables,f=c.totals,b=c.parameters,v=c.functions,m=[];return d&&m.push({label:"Dictionary DataSources",icon:"icon-053",fields:[].concat(d.all(),p.all()),editable:[function(e){h.a.trigger("new-connection-wizard",e)},null],openedInTree:a}),u&&m.push({label:"Dictionary SystemVariables",icon:u.attr("icon"),fields:u.entities,openedInTree:r}),f&&m.push({label:"Dictionary Totals",icon:"icon-132",fields:f.all(),editable:[function(e){h.a.trigger("create-total",e)},null],openedInTree:i}),b&&m.push({label:"Dictionary Parameters",icon:"icon-234",fields:b.all(),editable:[function(e){h.a.trigger("create-parameter",e)},null],openedInTree:o}),v&&m.push({label:"Dictionary Functions",icon:v.icon,fields:v.entities,className:"functions",openedInTree:s}),n=!0,Object(y.a)({nodes:m,selectable:!0,openedInTree:l,editable:n})}}},599:function(e,n,t){"use strict";function c(e,n,t){var a,r=x()("<ul>");return r.addClass("root"),e&&(e.className&&r.addClass("functions"),a=function t(n,e,a){var r,i,o,s,l,c,d,p,u,f,b,v,m,h,g=1<arguments.length&&void 0!==e?e:{},y=2<arguments.length&&void 0!==a?a:null;if(n){if(u=n.label&&C.a.tr(n.label)||n.toString(),(r=x()("<li>")).addClass("rt-node"),(o=x()("<div>")).addClass("rt-expand"),(l=x()("<div>")).addClass("rt-icon"),null!==n.icon&&l.addClass(n.icon||n.prop&&n.prop("DataType")&&n.prop("DataType").icon||n.attr&&n.attr("icon")||w.a.first().icon),(c=x()("<div>")).addClass("rt-content"),c.text(u),"function"==typeof n.attr&&!0===n.attr("checkbox")&&((s=x()('<input type="checkbox">')).prop("checked",n.attr("checked")),s.addClass("rt-checkbox pull-left"),"function"==typeof y&&s.change(n,y)),n.editable&&(n.editable[0]&&(c.append('<a href class="add"><i class="fa fa-plus-circle"></i></i></a>'),c.on("click",".add:not([disabled])",function(){var e=x()(this).parents(".rt-node:first")[0].element;return e&&"function"==typeof n.editable[0]&&n.editable[0](e),!1})),n.editable[1]&&(c.append('<a href class="remove"><i class="fa fa-minus-circle"></i></i></a>'),c.on("click",".remove:not([disabled])",function(){var e=x()(this).parents(".rt-node:first")[0].element;return e&&"function"==typeof n.editable[1]&&n.editable[1](e),!1}))),n.interface&&c.attr("data-interface",n.interface),n.bindableControl&&c.attr("data-component",n.bindableControl),(d=x()("<ul>")).addClass("rt-container"),n.fields?v=n.fields:n.parameters&&0<n.parameters.count()?v=n.parameters.all():n.columns||n.dataSources?(n.columns&&0<n.columns.count()&&(v=n.columns.all()),n.dataSources&&0<n.dataSources.count()&&(v=v?v.concat(n.dataSources.all()):[].concat(n.dataSources.all()))):n.isRelation&&n.isRelation()&&(m=n.attr("_ParentDataSource"))&&(v=m.columns.all(),v=[].concat(m.asChildIn||[],v,m.dataSources.all())),h=function(e){n.openedInTree||g[n._id||n.label]?(o.addClass("icon-exp_minus"),g[n._id||n.label]=!0):(o.addClass("icon-exp_plus"),d.addClass("d-hidden")),x.a.each(e,function(e,n){i=t(n,g,y),d.append(i)}),e.length&&n.isColumn&&n.isColumn()&&l.attr("class","rt-icon icon-233")},v&&("function"==typeof v?v().then(function(){h.apply(this,arguments)}).catch(function(e){"1"!==e.error.message&&Object(k.a)(e.entity+" could not be loaded",{danger:!0})}):h(v)),n.isDataSource&&n.isDataSource()&&(v||r.hide(),n.asChildIn&&n.asChildIn.length))for(f=0,b=n.asChildIn.length;f<b;f+=1)p=t(n.asChildIn[f],g,y),d.prepend(p);r[0].element=n,r.append(o,s,l,c,d)}return r}(e,n,t),e.fields&&"function"!=typeof e.fields&&(0===e.fields.length||x.a.isPlainObject(e.fields)&&x.a.isEmptyObject(e.fields))&&a.find(".rt-expand").css("opacity",0),r.append(a)),r}function a(e){var n=e.nodes,t=e.selectable,a=e.checkable,r=e.editable,i=e.openedInTree,o=void 0===i?{}:i,s=e.onCheckboxChange,l=x()("<div>");return l.addClass("data-main-container"),n.forEach(function(e){l.append(c(e,o,s))}),l.on("click",".rt-expand, .rt-icon",function(){var e,n=x()(this);return n.is(".rt-icon")&&(n=n.prev(".rt-expand")),e=n.parent()[0].element,n.is(".icon-exp_minus")?(delete o[e._id||e.label],n.parent().find(".rt-container:first").slideUp(100,function(){n.removeClass("icon-exp_minus").addClass("icon-exp_plus")})):n.is(".icon-exp_plus")&&(o[e._id||e.label]=!0,n.parent().find(".rt-container:first").slideDown(100,function(){n.removeClass("icon-exp_plus").addClass("icon-exp_minus")})),!1}),!0===t&&l.on("click",".rt-content",function(){var e=x()(this),n=e.parents(".root"),t=e.data("interface"),a=x()("<div>");n.is(".functions")&&t&&(a.append(t),Object(k.a)(a,{inEmptyList:!0,limitWidth:!1,delay:!1})),x()(".selected",l).removeClass("selected"),e.addClass("selected")}),a||l.find(".rt-checkbox").remove(),r||(l.find(".add").remove(),l.find(".remove").remove()),l}var r,i,x,C,k,w;t.d(n,"a",function(){return a}),r=t(600),i=t(0),x=t.n(i),C=t(2),k=t(28),w=t(33)},600:function(e,n,t){}}]);